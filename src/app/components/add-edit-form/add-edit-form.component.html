<form [formGroup]="form" class="flex flex-column align-items-center justify-content-start">

    @for (formElement of formElements; track formElement.key) {
        @switch (formElement.type) {
            @case ('input') {
                <p-floatLabel class="flex py-3 w-full">
                    <input pInputText [formControlName]="formElement.key" [attr.inputId]="formElement.key + '-input'" class="w-full" />
                    <label [for]="formElement.key + '-input'">{{ formElement.label }}</label>
                </p-floatLabel>
            }
        }
    }

    <p-button (onClick)="form.checkAndSubmit()" [loading]="form.loadingState.isLoading()" [disabled]="form.loadingState.isLoading()" [severity]="form.loadingState.isFailure() ? 'danger' : undefined" [label]="buttonLabel" class="w-full pt-3" styleClass="w-full" />
    <app-error-message [message]="form.errorMessage" class="w-full" />

</form>
